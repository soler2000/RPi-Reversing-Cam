RPi-Reversing-Cam — Install (Bookworm)
======================================


This installer is **idempotent**. You can safely re-run it: it stops services, syncs files, upgrades venv packages, and restarts.


Prereqs (Bookworm):
-------------------
- Enable camera: Raspberry Pi Configuration → Interfaces → Camera (or `sudo raspi-config` → Interface Options)
- Ensure packages: libcamera & picamera2


What install.sh does:
---------------------
1) Installs APT deps: python3-picamera2, libcamera-tools, python3-pil, python3-numpy, network-manager, fonts-dejavu, python3-venv
2) Creates/updates venv at `/opt/rpi-reversing-cam/venv` and installs Python deps from `requirements.txt`
3) Syncs this repo into `/opt/rpi-reversing-cam` (excluding venv)
4) Installs `systemd` unit(s) and enables `motion_wide.service`
5) Creates `/opt/rpi-reversing-cam/config.yaml` if missing (from config.example.yaml)


Run:
----
#Prep the system
sudo apt update && sudo apt full-upgrade -y
sudo apt install -y git


#Get the GIT
git clone --branch dev1 --single-branch --depth 1 \
  https://github.com/soler2000/RPi-Reversing-Cam.git
cd RPi-Reversing-Cam



#Make it executable and install
chmod +x install.sh
#sudo ./install.sh


After install:
--------------
- Open http://<pi-ip>:8000/
- Live MJPEG: http://<pi-ip>:8000/live


Troubleshooting:
----------------
- **Black frames:** check that camera is enabled and not in use by another service.
- **High latency:** lower resolution and/or FPS in Settings. Try 640x480 @ 20 fps.
- **Wi‑Fi details empty:** NetworkManager may not be managing wlan0; see notes in `wifi_manager.py`.


Safe reinstall:
---------------
You may re-run `sudo ./install.sh` at any time; it will stop the service, sync files (`rsync --delete`), pip install as needed, then restart.