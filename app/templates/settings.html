{% extends "base.html" %}{% block body %}
<h2>Settings</h2>
<form method="post" class="settings-grid">
  <section>
    <h3>Main Settings</h3>
    <label>Resolution <input name="camera.resolution" value="{{ data.camera['camera.resolution'] }}"></label>
    <label>Frame rate <input name="camera.framerate" value="{{ data.camera['camera.framerate'] }}"></label>
    <label>Rotation (0/180) <input name="camera.rotation" value="{{ data.camera['camera.rotation'] }}"></label>
    <label>Overlay enabled <select name="overlay.enabled"><option value="1" {% if data.overlay['overlay.enabled']=='1' %}selected{% endif %}>Yes</option><option value="0" {% if data.overlay['overlay.enabled']=='0' %}selected{% endif %}>No</option></select></label>
    <label>Overlay text pos (x,y) <input name="overlay.text_pos" value="{{ data.overlay['overlay.text_pos'] }}"></label>
    <label>Overlay text scale <input name="overlay.text_scale" value="{{ data.overlay['overlay.text_scale'] }}"></label>
    <label>Show CPU <select name="overlay.show_cpu"><option value="1" {% if data.overlay['overlay.show_cpu']=='1' %}selected{% endif %}>Yes</option><option value="0" {% if data.overlay['overlay.show_cpu']=='0' %}selected{% endif %}>No</option></select></label>
    <label>Show Battery <select name="overlay.show_battery"><option value="1" {% if data.overlay['overlay.show_battery']=='1' %}selected{% endif %}>Yes</option><option value="0" {% if data.overlay['overlay.show_battery']=='0' %}selected{% endif %}>No</option></select></label>
    <label>Show Distance <select name="overlay.show_distance"><option value="1" {% if data.overlay['overlay.show_distance']=='1' %}selected{% endif %}>Yes</option><option value="0" {% if data.overlay['overlay.show_distance']=='0' %}selected{% endif %}>No</option></select></label>
  </section>

  <section>
    <h3>Guide Line 1</h3>
    <label>Start (x,y) <input name="guideline1.start" value="{{ data.guideline1['guideline1.start'] }}"></label>
    <label>End (x,y)   <input name="guideline1.end"   value="{{ data.guideline1['guideline1.end'] }}"></label>
    <label>Width px    <input name="guideline1.width" value="{{ data.guideline1['guideline1.width'] }}"></label>
    <label>Color hex   <input name="guideline1.color" value="{{ data.guideline1['guideline1.color'] }}"></label>
    <label>Alpha 0..1  <input name="guideline1.alpha" value="{{ data.guideline1['guideline1.alpha'] }}"></label>
  </section>

  <section>
    <h3>Guide Line 2</h3>
    <label>Start (x,y) <input name="guideline2.start" value="{{ data.guideline2['guideline2.start'] }}"></label>
    <label>End (x,y)   <input name="guideline2.end"   value="{{ data.guideline2['guideline2.end'] }}"></label>
    <label>Width px    <input name="guideline2.width" value="{{ data.guideline2['guideline2.width'] }}"></label>
    <label>Color hex   <input name="guideline2.color" value="{{ data.guideline2['guideline2.color'] }}"></label>
    <label>Alpha 0..1  <input name="guideline2.alpha" value="{{ data.guideline2['guideline2.alpha'] }}"></label>
  </section>

  <section>
    <h3>LED Configuration</h3>
    <label>Master On <select name="led.master_on"><option value="1" {% if data.led['led.master_on']=='1' %}selected{% endif %}>Yes</option><option value="0" {% if data.led['led.master_on']=='0' %}selected{% endif %}>No</option></select></label>
    <label>Brightness 0..1 <input name="led.brightness" value="{{ data.led['led.brightness'] }}"></label>
    <label>Dark Lux threshold <input name="led.dark_lux_threshold" value="{{ data.led['led.dark_lux_threshold'] }}"></label>
    <label>White color <input name="led.white_color" value="{{ data.led['led.white_color'] }}"></label>
    <label>Red color <input name="led.red_color" value="{{ data.led['led.red_color'] }}"></label>
    <label>Warning min Hz <input name="warning.freq_min_hz" value="{{ data.warning['warning.freq_min_hz'] }}"></label>
    <label>Warning max Hz <input name="warning.freq_max_hz" value="{{ data.warning['warning.freq_max_hz'] }}"></label>
    <label>Min distance (m) <input name="distance.min_m" value="{{ data.distance['distance.min_m'] }}"></label>
    <label>Max distance (m) <input name="distance.max_m" value="{{ data.distance['distance.max_m'] }}"></label>
  </section>

  <section>
    <h3>System</h3>
    <label>Battery min V <input name="battery.v_min" value="{{ data.battery['battery.v_min'] }}"></label>
    <label>Battery max V <input name="battery.v_max" value="{{ data.battery['battery.v_max'] }}"></label>
    <label>Shutdown at V <input name="battery.shutdown_voltage" value="{{ data.battery['battery.shutdown_voltage'] }}"></label>
    <label>Shutdown enabled <select name="battery.shutdown_enabled"><option value="1" {% if data.battery['battery.shutdown_enabled']=='1' %}selected{% endif %}>Yes</option><option value="0" {% if data.battery['battery.shutdown_enabled']=='0' %}selected{% endif %}>No</option></select></label>
  </section>

  <section>
    <h3>Wiâ€‘Fi Access</h3>
    <label>AP SSID <input name="wifi.ap.ssid" value="{{ data.wifi['wifi.ap.ssid'] }}"></label>
    <label>AP Password <input name="wifi.ap.password" value="{{ data.wifi['wifi.ap.password'] }}"></label>
    <p><button class="btn" type="button" onclick="scanWifi()">Scan Networks</button></p>
    <div id="wifiList"></div>
  </section>

  <div class="actions"><button class="btn" type="submit">Save</button></div>
</form>
{% endblock %}
